{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\Workspace\\\\FormWithReact\\\\react-frontend\\\\src\\\\component\\\\userList\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Button, Table, Modal } from \"antd\";\nimport { sendDelete, sendGet } from \"../../api\";\nimport { useNavigate } from 'react-router-dom';\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AllUser = () => {\n  _s();\n  const [dataSource, setDataSource] = useState([]);\n  const navigate = useNavigate();\n  const [page, setPage] = useState(1);\n  const [pagesize, setPagesize] = useState(5);\n  const [deleteModalVisible, setDeleteModalVisible] = useState(false);\n  const [deleteUserId, setDeleteUserId] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await sendGet('findAllEmployees');\n        setDataSource(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleAddClick = () => {\n    navigate(`/add`);\n  };\n\n  // Trong component AllUser\n  const handleEditClick = async id => {\n    // const { password, ...userWithoutPassword } = user;\n    const data = await sendGet(`employees/${id}`);\n    navigate(`/edit/${id}`, {\n      state: {\n        user: data,\n        isEdit: true\n      }\n    });\n  };\n  const deleteUser = id => {\n    // Hiển thị ModalConfirm và lưu id của người dùng cần xóa\n    setDeleteUserId(id);\n    setDeleteModalVisible(true);\n  };\n  const handleDeleteConfirm = async () => {\n    if (deleteUserId) {\n      await sendDelete(`deleteEmployees/${deleteUserId}`);\n      const newDataSource = dataSource.filter(item => item.id !== deleteUserId);\n      setDataSource(newDataSource);\n      setDeleteModalVisible(false);\n    }\n  };\n  const handleDeleteCancel = () => {\n    setDeleteModalVisible(false);\n  };\n  const columns = [\n  // Các cột của bảng\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\"\n  }, {\n    title: \"UserName\",\n    dataIndex: \"userName\",\n    key: \"userName\"\n  }, {\n    title: \"Note\",\n    dataIndex: \"note\",\n    key: \"note\"\n  }, {\n    title: \"Remember Me\",\n    dataIndex: \"remember\",\n    key: \"rememberMe\",\n    render: remember => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: remember ? \"On\" : \"Off\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this)\n  }, {\n    title: \"Switch Mode\",\n    dataIndex: \"switchMode\",\n    key: \"switchMode\",\n    render: switchMode => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: switchMode ? \"On\" : \"Off\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this)\n  }, {\n    title: \"Radio\",\n    dataIndex: \"radioSelection\",\n    key: \"Radio Selection\"\n  }, {\n    title: \"Dropdown\",\n    dataIndex: \"dropdownOption\",\n    key: \"dropdownOption\"\n  }, {\n    title: \"Action\",\n    key: \"action\",\n    render: record => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-edit\",\n        onClick: () => handleEditClick(record.id),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-delete\",\n        onClick: () => deleteUser(record.id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn-add\",\n      onClick: handleAddClick,\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"titleUserList\",\n      children: \"LIST USER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      dataSource: dataSource,\n      columns: columns,\n      pagination: {\n        current: page,\n        pageSize: pagesize,\n        onChange: (page, pageSize) => {\n          setPage(page);\n          setPagesize(pageSize);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Confirm Delete\",\n      visible: deleteModalVisible,\n      onOk: handleDeleteConfirm,\n      onCancel: handleDeleteCancel,\n      okText: \"Delete\",\n      cancelText: \"Cancel\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Are you sure you want to delete this user?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n_s(AllUser, \"9kx41GsgyL6xQm5wQaOgw1d3YTA=\", false, function () {\n  return [useNavigate];\n});\n_c = AllUser;\nexport default AllUser;\nvar _c;\n$RefreshReg$(_c, \"AllUser\");","map":{"version":3,"names":["useEffect","useState","Button","Table","Modal","sendDelete","sendGet","useNavigate","jsxDEV","_jsxDEV","AllUser","_s","dataSource","setDataSource","navigate","page","setPage","pagesize","setPagesize","deleteModalVisible","setDeleteModalVisible","deleteUserId","setDeleteUserId","fetchData","data","error","console","log","handleAddClick","handleEditClick","id","state","user","isEdit","deleteUser","handleDeleteConfirm","newDataSource","filter","item","handleDeleteCancel","columns","title","dataIndex","key","render","remember","children","fileName","_jsxFileName","lineNumber","columnNumber","switchMode","record","className","onClick","pagination","current","pageSize","onChange","visible","onOk","onCancel","okText","cancelText","_c","$RefreshReg$"],"sources":["D:/Code/Workspace/FormWithReact/react-frontend/src/component/userList/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Button, Table, Modal } from \"antd\";\r\nimport { sendDelete, sendGet } from \"../../api\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./style.css\";\r\n\r\nconst AllUser = () => {\r\n    const [dataSource, setDataSource] = useState<any[]>([]);\r\n    const navigate = useNavigate();\r\n    const [page, setPage] = useState(1);\r\n    const [pagesize, setPagesize] = useState(5);\r\n    const [deleteModalVisible, setDeleteModalVisible] = useState(false);\r\n    const [deleteUserId, setDeleteUserId] = useState<BigInt | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const data = await sendGet('findAllEmployees');\r\n                setDataSource(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    const handleAddClick = () => {\r\n        navigate(`/add`);\r\n    };\r\n\r\n    // Trong component AllUser\r\n    const handleEditClick = async (id: any) => {\r\n        // const { password, ...userWithoutPassword } = user;\r\n        const data = await sendGet(`employees/${id}`);\r\n        navigate(`/edit/${id}`, { state: { user: data, isEdit: true } });\r\n    };\r\n\r\n    const deleteUser = (id: BigInt) => {\r\n        // Hiển thị ModalConfirm và lưu id của người dùng cần xóa\r\n        setDeleteUserId(id);\r\n        setDeleteModalVisible(true);\r\n    };\r\n\r\n    const handleDeleteConfirm = async () => {\r\n        if (deleteUserId) {\r\n            await sendDelete(`deleteEmployees/${deleteUserId}`);\r\n            const newDataSource = dataSource.filter((item) => item.id !== deleteUserId);\r\n            setDataSource(newDataSource);\r\n            setDeleteModalVisible(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteCancel = () => {\r\n        setDeleteModalVisible(false);\r\n    };\r\n\r\n    const columns = [\r\n        // Các cột của bảng\r\n        {\r\n            title: \"Id\",\r\n            dataIndex: \"id\",\r\n            key: \"id\",\r\n        },\r\n        {\r\n            title: \"UserName\",\r\n            dataIndex: \"userName\",\r\n            key: \"userName\",\r\n        },\r\n\r\n        {\r\n            title: \"Note\",\r\n            dataIndex: \"note\",\r\n            key: \"note\",\r\n        },\r\n        {\r\n            title: \"Remember Me\",\r\n            dataIndex: \"remember\",\r\n            key: \"rememberMe\",\r\n            render: (remember: boolean) => (\r\n                <span>{remember ? \"On\" : \"Off\"}</span>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Switch Mode\",\r\n            dataIndex: \"switchMode\",\r\n            key: \"switchMode\",\r\n            render: (switchMode: boolean) => (\r\n                <span>{switchMode ? \"On\" : \"Off\"}</span>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Radio\",\r\n            dataIndex: \"radioSelection\",\r\n            key: \"Radio Selection\",\r\n        },\r\n        {\r\n            title: \"Dropdown\",\r\n            dataIndex: \"dropdownOption\",\r\n            key: \"dropdownOption\",\r\n        },\r\n        {\r\n            title: \"Action\",\r\n            key: \"action\",\r\n            render: (record: any) => (\r\n                <span>\r\n                    <Button className=\"btn-edit\" onClick={() => handleEditClick(record.id)}>Edit</Button>\r\n                    <Button className=\"btn-delete\" onClick={() => deleteUser(record.id)}>Delete</Button>\r\n                </span>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n         \r\n            <Button className=\"btn-add\" onClick={handleAddClick}>\r\n                Add\r\n            </Button>\r\n            <h1 className=\"titleUserList\">LIST USER</h1>\r\n            <Table\r\n                dataSource={dataSource}\r\n                columns={columns}\r\n                pagination=\r\n                {{\r\n                    current: page,\r\n                    pageSize: pagesize,\r\n                    onChange: (page, pageSize) => {\r\n                        setPage(page);\r\n                        setPagesize(pageSize);\r\n                    }\r\n                }}\r\n            >\r\n            </Table>\r\n            <Modal\r\n                title=\"Confirm Delete\"\r\n                visible={deleteModalVisible}\r\n                onOk={handleDeleteConfirm}\r\n                onCancel={handleDeleteCancel}\r\n                okText=\"Delete\"\r\n                cancelText=\"Cancel\"\r\n            >\r\n                <p>Are you sure you want to delete this user?</p>\r\n            </Modal>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default AllUser;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}